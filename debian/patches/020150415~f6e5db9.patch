Description: Fix compilation with recent glibc
Origin: upstream, https://github.com/unbit/uwsgi/commit/f6e5db9
Author: Unbit <info@unbit.it>
Forwarded: yes
Bug: https://github.com/unbit/uwsgi/issues/883
Bug-Debian: https://bugs.debian.org/854535
Last-Update: 2017-02-08

diff --git a/core/utils.c b/core/utils.c
index 0715b5b3..d900caaa 100755
--- a/core/utils.c
+++ b/core/utils.c
@@ -3515,7 +3515,7 @@ int uwsgi_tmpfd() {
 		tmpdir = "/tmp";
 	}
 #ifdef O_TMPFILE
-	fd = open(tmpdir, O_TMPFILE | O_RDWR);
+	fd = open(tmpdir, O_TMPFILE | O_RDWR, S_IRUSR | S_IWUSR);
 	if (fd >= 0) {
 		return fd;
 	}
